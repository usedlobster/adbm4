function _wd_debounce(func,delay){let timeout=null;return function(...args){let context=this;timeout&&clearTimeout(timeout),timeout=setTimeout(()=>{func.apply(context,args)},delay)}}function _wd_check_double_click_event(e,singleClickFn,doubleClickFn,delay=400){let s=_wd_check_double_click_event;s.lastClickTime||(s.lastClickTime=0),s.clickTimeout||(s.clickTimeout=null);var tDiff=e.timeStamp-s.lastClickTime;tDiff<delay&&0<tDiff?(s.clickTimeout&&(clearTimeout(s.clickTimeout),s.clickTimeout=null),s.lastClickTime=0,doubleClickFn(e)):(s.clickTimeout&&clearTimeout(s.clickTimeout),s.lastClickTime=e.timeStamp,s.clickTimeout=setTimeout(()=>{singleClickFn(e),s.clickTimeout=null,s.lastClickTime=0},delay))}function _wd_throttle(func,delay){let lastCall=0,timeout=null;return function(...args){var now=Date.now();let context=this;now-lastCall>=delay?(timeout&&(clearTimeout(timeout),timeout=null),lastCall=now,func.apply(context,args)):timeout=timeout||setTimeout(()=>{lastCall=Date.now(),func.apply(context,args),timeout=null},delay-(now-lastCall))}}async function _wd_fetch(url,options){let controller=new AbortController;var timeout=options.timeout||5e3,timeout=setTimeout(()=>controller.abort(),timeout);try{return await fetch(url,{...options,signal:controller.signal})}catch(e){throw"AbortError"===e.name&&console.warn("Request timed out"),e}finally{clearTimeout(timeout)}}window.addEventListener("load",function(){var b=document.getElementsByTagName("body");b&&b[0]&&(b[0].style.display="block"),"undefined"!=typeof ScrollArrows&&(window.scrollArrows=new ScrollArrows)});let _globalRefreshPromise=null;function _wd_makeBlock(base,name,tag="div",updateCB=null){var n=(base?.id??"block")+"-"+name;let E=base.querySelector("#"+n);if(E){if(!E)throw new Error("failed to create dom block "+this.domid+"_"+name);updateCB&&updateCB(E,!1)}else(E=document.createElement(tag)).id=n,base.appendChild(E),updateCB&&updateCB(E,!0)}function _wd_makeModal(updateCB=null){_wd_makeBlock(this.T1,"modal","div",(E,init)=>{let removeModal=T=>{var M;T&&((M=T.firstChild)&&M.actionFn&&M.actionFn("close"),T?.remove())};E.replaceChildren(),E.className="wd-modal overflow-hidden",document.addEventListener("keydown",e=>{"Escape"===e.key&&removeModal(E)}),document.addEventListener("click",e=>{e.target===E&&removeModal(E)});var M=document.createElement("div");M.className="wd-modal-content",updateCB&&updateCB(M),E.appendChild(M)})}_wd_api_token=async(url,payload,token,updateTokenCB=null)=>{async function _make_request_(url,payload,token){return await fetch(url,{timeout:12500,method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrerPolicy:"no-referrer",headers:{"Content-Type":"application/json",Authorization:"Bearer "+token},body:JSON.stringify(payload)})}try{var response=await _make_request_(url,payload,token);if(401===response?.status){var refreshResult=await(async token=>_globalRefreshPromise=_globalRefreshPromise||fetch("/api/v1/refresh-token",{method:"POST",headers:{Authorization:"Bearer "+token},timeout:12500}).then(response=>response.json()).finally(()=>{_globalRefreshPromise=null}))(token);if(refreshResult?.token)return updateTokenCB&&updateTokenCB(refreshResult.token),await _make_request_(url,payload,refreshResult.token)}return response}catch(e){throw console.error("API request failed:",e),e}},document.addEventListener("alpine:init",()=>{Alpine.magic("tooltip",el=>message=>{let instance=tippy(el,{content:message,trigger:"manual"});instance.show(),setTimeout(()=>{instance.hide(),setTimeout(()=>instance.destroy(),150)},2e3)})});